<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Document</title>
</head>

<body>
	<img src="https://picsum.photos/200/200?random=1" alt="">
	<input type="text">
	<span></span>
	<img src="https://picsum.photos/200/200?random=1" alt="">
	<input type="text">
	<span></span>
	<img src="https://picsum.photos/200/200?random=1" alt="">
	<input type="text">
	<span></span>
	<img src="https://picsum.photos/200/200?random=1" alt="">
	<input type="text">
	<span></span>
	<img src="https://picsum.photos/200/200?random=1" alt="">
	<input type="text">
	<span></span>
	<img src="https://picsum.photos/200/200?random=1" alt="">
	<input type="text">
	<span></span>
	<img src="https://picsum.photos/200/200?random=1" alt="">
	<input type="text">
	<span></span>

	<script>
		var img = document.getElementsByTagName("img");
		var input = document.getElementsByTagName("input");
		var span = document.getElementsByTagName("span");


		function setTransform() {
			var scaleX = input[0].value,
				scaleY = input[1].value,
				skewX = input[2].value,
				skewY = input[3].value,
				rotate = input[4].value,
				translateX = input[5].value,
				translateY = input[6].value;

			img[0].style.transform = "scaleX(" + scaleX + ") scaleY(" + scaleY + ") skewX(" + skewX + "deg) skewY(" + skewY + "deg) rotate(" + rotate + "deg) translateX(" + translateX + "px) translateY(" + translateY + "px)";
			console.log(scaleX);

			span[0].innerHTML = img[0].style.cssText;
			skewX *= Math.PI / 180;
			skewY *= Math.PI / 180;
			rotate *= Math.PI / 180;

			var a = scaleX * (Math.cos(rotate) + Math.tan(skewX) * Math.sin(rotate));
			var b = scaleY * (Math.tan(skewY) * Math.cos(rotate) + Math.sin(rotate));
			var c = scaleX * (-Math.sin(rotate) + Math.tan(skewX) * Math.cos(rotate));
			var d = scaleY * (Math.tan(skewY) * -Math.sin(rotate) + Math.cos(rotate));
			var e = a * translateX + c * translateY;
			var f = b * translateX + d * translateY;

			img[1].style.cssText = "transform:matrix(" + a + "," + b + "," + c + "," + d + "," + e + "," + f + ")";
			span[1].innerHTML = img[1].style.cssText;

			var ct = "filter:progid:DXImageTransform.Microsoft.Matrix(M11=" + a + ",M12=" + c + ",M21=" + b + ",M22=" + d + ", SizingMethod='auto expand');";
			img[2].style.cssText = ct;
			var ml = (100 - img[2].offsetWidth) / 2 + e;
			var mt = (100 - img[2].offsetHeight) / 2 + f;
			img[2].style.cssText = ct + "margin-top:" + mt + "px;margin-left:" + ml + "px;";
			span[2].innerHTML = ct + "margin-top:" + mt + "px;margin-left:" + ml + "px;";
		}
		function resetTransform() {
			input[0].value = 1;
			input[1].value = 1;
			input[2].value = 0;
			input[3].value = 0;
			input[4].value = 10;
			input[5].value = 0;
			input[6].value = 0;

			setTransform();
		}

		resetTransform();
	</script>
</body>

</html>