<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<link rel="stylesheet" href="./css/reset.css">
	<link rel="stylesheet" href="./css/fl_list.css">
	<link rel="stylesheet" href="./css/fl_share.css">
	<title>Document</title>
	<style>
		.head {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 60px;
			background: coral;
		}
	</style>
</head>

<body>
	<div class="fl_container" id="app">
		<div class="head"></div>
		<div class="fl_function_bar">
			<button class="mod_btn mod_btn_green">新增</button>
			<label class="mod_select">
				<div>全部_XXX</div>
				<ul class="mod_select_menu">
					<li>全部_XXX</li>
					<li>未完成_XXX</li>
					<li>已完成_XXX</li>
					<li>未回覆_XXX</li>
					<li>校對中_XXX</li>
				</ul>
				<select style="display: none">
					<option>全部_XXX</option>
					<option>未完成_XXX</option>
					<option>已完成_XXX</option>
					<option>未回覆_XXX</option>
					<option>校對中_XXX</option>
				</select>
			</label>
			<label class="mod_select">
				<span>查詢項目</span>
				<ul class="mod_select_menu" style="display: none">
					<li>編號</li>
					<li>名稱</li>
					<li>日期</li>
				</ul>
				<select style="display: none">
					<option>查詢項目</option>
					<option>編號</option>
					<option>名稱</option>
					<option>日期</option>
				</select>
			</label>
			<input type="text" class="mod_inp" placeholder="請輸入查詢內容">
		</div>
		<div class="mod_tb_box">
			<div class="mod_tb_head fl_tb_head">
				<table id="head_tb" class="mod_tb fixed_1024px">
					<tr>
						<th class="fixedtd_130px">編號</th>
						<th>申請者</th>
						<th>部門</th>
						<th>文宣主題</th>
						<th>申請日期</th>
						<th>功能</th>
						<th>回應數</th>
						<th>狀態</th>
					</tr>
				</table>
			</div>
			<div id="body_tb" class="mod_tb_body">
				<table class="mod_tb fixed_1024px">
					<tr>
						<td class="fixedtd_130px">first</td>
						<td>222</td>
						<td>333</td>
						<td>444</td>
						<td>555</td>
						<td>666</td>
						<td>777</td>
						<td>888</td>
					</tr>
				</table>
			</div>
			<div class="mod_page_box">
				<ul class="mod_page">
					<li>1</li>
					<li>2</li>
					<li>3</li>
				</ul>
			</div>
		</div>
		<div class="fl_nodata"></div>
	</div>
	<script>
		var move_head_tb = document.querySelector('#head_tb');
		var move_body_tb = document.querySelector('#body_tb');
		let isDown = false;
		var startX = 0;//滑鼠按下去的位置
		let moveX = 0;
		let scrollLeft;
		console.log(move_body_tb);
		move_body_tb.addEventListener('touchstart', (e) => {
			console.log('mousedown');
			isDown = true;
			move_body_tb.classList.add('active');
			if (startX == 0) {
				move_head_tb.style.marginLeft = startX + "px";
			}
			startX = e.touches[0].pageX;
			console.log('滑鼠按下去的位置' + startX);
			console.log(e);
		})
		move_body_tb.addEventListener('mouseleave', () => {
			console.log('mouseleave');
			isDown = false;
			move_body_tb.classList.remove('active');
		});
		move_body_tb.addEventListener('touchend', () => {
			console.log('mouseup');
			isDown = false;
			move_body_tb.classList.remove('active');
		});
		move_body_tb.addEventListener('touchmove', (e) => {
			if (!isDown) return; //stop the fn running
			// console.log('mousemove');
			let move = e.touches[0].pageX - startX;
			startX = e.touches[0].pageX;
			moveX -= move
			console.log("move" + move);
			console.log("moveX" + moveX);
			if (e.view.innerWidth > 1024) return
			max_move = 1024 - e.view.innerWidth;
			if (moveX <= 0) {
				moveX = 0
				move_head_tb.style.marginLeft = moveX + "px";
			} else if (moveX >= max_move) {
				moveX = max_move
				move_head_tb.style.marginLeft = moveX * -1 + "px";
			} else {
				move_head_tb.style.marginLeft = moveX * -1 + "px";
			}
		});
	</script>
</body>

</html>