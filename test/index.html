<!DOCTYPE html>
<html id="version" lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="viewport"
		content="viewport-fit=cover,maximum-scale=1, width=device-width, user-scalable=no, minimum-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<meta name="theme-color" content="#ea6c97">
	<title>Document</title>
	<style>
		* {
			margin: 0;
			padding: 0;
			list-style: none;
			box-sizing: border-box;
		}

		html,
		body {
			width: 100%;
			height: 100%;
		}

		body {
			overflow: hidden;
			height: 100%;
			/* height: calc(100vh - env(safe-area-inset-bottom)); */
		}

		html.ios15 {
			height: 100vh;
		}

		.ios15 body {
			/* display: grid;
			grid-template-rows:1fr; */
			height: 100vh;
			/* overflow-x: hidden;
			overflow-y: auto;
			-webkit-overflow-scrolling: touch; */
			/* height: 100vh; */
			/* padding-top: env(safe-area-inset-top);
			padding-bottom: env(safe-area-inset-bottom); */
		}

		.ios15 .wrap {
			display: grid;
			grid-template-rows: 60px 1fr;
		}

		/* 
		html.ios15 {
			height: calc(100vh - env(safe-area-inset-top));
		} */

		.wrap {
			width: 100%;
			height: 100%;
			background-color: #eee;
			/* padding-top: 60px; */
		}

		header {
			width: 100%;
			height: 60px;
			background-color: blue;
			z-index: 1;
		}

		.container {
			overflow-x: hidden;
			overflow-y: auto;
			-webkit-overflow-scrolling: touch;
			width: 100%;
			/* height: calc(100% - 60px); */
		}

		.item {
			position: relative;
			padding: 200px 0;
			background-color: #aaa;
		}

		.item:nth-child(1) {
			height: 200px;
			padding: 0;
		}

		.item:nth-child(odd) {
			background-color: #555;
		}
	</style>
</head>

<body>
	<div id="wrap" class="wrap">
		<header></header>
		<div class="container">
			<div class="item">
				item1
				<input type="text">
			</div>
			<div class="item">item2</div>
			<div class="item">item3</div>
			<div class="item">item4</div>
			<div class="item">
				<span style="position:absolute; bottom: 0; color:red">我有文字</span>
			</div>
		</div>
	</div>
	<script>
		var str = "123";
		console.log(str.indexOf("3") != -1);  // true
		(function () {
			let browserInf = navigator.appVersion;
			let browserName = browserInf.search('Safari');
			console.log('瀏覽器名稱:', browserInf);
			console.log('瀏覽器名稱:', browserName);
		})()

		var wrap = document.getElementById('version');
		function iOSversion() {
			let d, v;
			if (/iP(hone|od|ad)/.test(navigator.platform)) {
				v = (navigator.appVersion).match(/OS (\d+)_(\d+)_?(\d+)?/);
				d = {
					status: true,
					version: parseInt(v[1], 10),
					info: parseInt(v[1], 10) + '.' + parseInt(v[2], 10) + '.' + parseInt(v[3] || 0, 10)
				};
			} else {
				d = { status: false, version: false, info: '' }
			}
			return d;
		}

		function setClass() {
			let iosVer = iOSversion();
			if (iosVer.status) {
				if (iosVer.version == 15) {
					wrap.classList.add('ios15');
				}
				// alert('iOS : ' + iosVer.info + ', version : ' + iosVer.version);
				//ex. IOS 11.2.6, version 11
			} else {
				// console.log('not iPhone or iPad');
			}
		}

		setClass()

		function getBroswer() {
			var Sys = {};
			var ua = navigator.userAgent.toLowerCase();
			var s;
			(s = ua.match(/edge\/([\d.]+)/)) ? Sys.edge = s[1] :
				(s = ua.match(/rv:([\d.]+)\) like gecko/)) ? Sys.ie = s[1] :
					(s = ua.match(/msie ([\d.]+)/)) ? Sys.ie = s[1] :
						(s = ua.match(/firefox\/([\d.]+)/)) ? Sys.firefox = s[1] :
							(s = ua.match(/chrome\/([\d.]+)/)) ? Sys.chrome = s[1] :
								(s = ua.match(/opera.([\d.]+)/)) ? Sys.opera = s[1] :
									(s = ua.match(/version\/([\d.]+).*safari/)) ? Sys.safari = s[1] : 0;

			if (Sys.edge) return { broswer: "Edge", version: Sys.edge };
			if (Sys.ie) return { broswer: "IE", version: Sys.ie };
			if (Sys.firefox) return { broswer: "Firefox", version: Sys.firefox };
			if (Sys.chrome) return { broswer: "Chrome", version: Sys.chrome };
			if (Sys.opera) return { broswer: "Opera", version: Sys.opera };
			if (Sys.safari) return { broswer: "Safari", version: Sys.safari };

			return { broswer: "", version: "0" };
		}
		var abc = getBroswer();
		// alert("broswer:" + abc.broswer + " version:" + abc.version);



		// var wrap = document.getElementById('wrap');
		// wrap.style.maxHeight = (window.outerHeight ) +"px";
		// console.log(window.innerHeight);

// window.innerHeight

	</script>
</body>

</html>